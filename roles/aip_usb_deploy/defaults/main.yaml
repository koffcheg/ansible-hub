---
# Where deployments live on the Jetson
aip_deploy_user: checkout
aip_deploy_root: "/home/{{ aip_deploy_user }}/deployments"

# Where eject kits live on the Jetson
# Contains files like:
#   aip-ecopod-2025.11.27-v1.0.1.tar.zst
#   aip-ecopod-2025.11.27-v1.0.1.tar.zst.sha256
aip_eject_kits_dir: "/home/{{ aip_deploy_user }}/eject_kits"

# Exact archive file name (NO path), e.g.:
#   aip-ecopod-2025.11.27-v1.0.1.tar.zst
# Recommended: pass via -e or host_vars as aip_blob_name.
# Fallback: try to read from /etc/aip/deploy.env (BLOB_NAME=... line).
aip_blob_name: ""

# Optional: explicit kit version (folder name under {{ aip_deploy_root }})
# If empty, version is parsed from aip_blob_name as the last dash-separated token:
#   "aip-ecopod-2025.11.27-v1.0.1.tar.zst" -> "v1.0.1"
aip_kit_version: ""

# Store / NATS settings passed to jetson_installer/main.sh
# aip_store_id is REQUIRED – fail fast when missing.
aip_store_id: ""
aip_nats_url: "nats://34.94.63.145:4222"

# AIP state (used for checksums + receipts)
aip_state_root: /opt/aip/state
aip_state_stage_dir: "{{ aip_state_root }}/stage"
aip_state_receipts_dir: "{{ aip_state_root }}/receipts"

# Installer behaviour
aip_installer_retries: 3
aip_installer_delay_seconds: 30

# If true, STOP after extracting the kit – do NOT run jetson_installer.
# Useful for initial smoke tests.
aip_installer_dry_run: false
