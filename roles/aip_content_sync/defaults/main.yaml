---
# 1. GCP / Bucket configuration
bucket: "content-deployment-lab-01"
aip_cs_bucket: "{{ bucket }}"
aip_cs_gcp_project: "{{ aip_gcp_project | default('deployment-setup-lab-01') }}"
aip_cs_controller_tmp_root: "/tmp/aip_content"
aip_cs_work_dir: "{{ aip_cs_controller_tmp_root }}"
aip_cs_controller_host: "localhost"

# 2. Jetson deployments / state directories
aip_deploy_root: "/home/checkout/deployments"
aip_deploy_user: "checkout"

aip_state_root: "/opt/aip/state"
aip_state_stage_dir: "{{ aip_state_root }}/stage"
aip_state_backups_dir: "{{ aip_state_root }}/backups"
aip_state_receipts_dir: "{{ aip_state_root }}/receipts"

aip_state_dir: "{{ aip_state_root }}"
stage_root: "{{ aip_state_stage_dir }}"
backups_root: "{{ aip_state_backups_dir }}"
receipts_root: "{{ aip_state_receipts_dir }}"

deployments_root: "{{ aip_deploy_root }}"
current: "current"

allowed_roots:
  - "{{ deployments_root }}/current"
  - "{{ deployments_root }}"
  - "/opt/aip"
  - "/var/lib/aip"

# behaviour defaults â€“ SAFE values, overridden by manifest.rules or explicit vars
enable_simple_backup: false     # fallback if NO rules.enable_simple_backup
prune_extraneous: false         # fallback if NO rules.prune_extraneous
target_version: "current"
aip_compose_refresh_after_sync: false
aip_content_dry_run: false

healthcheck: {}

# 3. Content bundle identity
bundle_id: ""      # REQUIRED via -e or inventory
bundle_type: ""    # optional, we prefer autodiscovery

# 4. Targeting / gating slugs (host identity)
# IMPORTANT: these default to "" so that if nothing is provided
# and manifest has targets, we simply SKIP instead of failing.
region_slug: ""
warehouse_slug: ""
store_slug: ""
device_slug: ""
